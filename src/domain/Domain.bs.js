// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE
'use strict';

var List = require("bs-platform/lib/js/list.js");
var Util$HeroGuild = require("../util/Util.bs.js");

function getId(hero) {
  return hero[/* id */0];
}

function view(hero) {
  return /* record */[
          /* id */hero[/* id */0],
          /* name */hero[/* name */1],
          /* skill */hero[/* skill */2]
        ];
}

function ofName(name) {
  return /* record */[
          /* id */Util$HeroGuild.Id[/* newId */0]("hero"),
          /* name */name,
          /* skill */0.5
        ];
}

function make(name, skill) {
  return /* record */[
          /* id */Util$HeroGuild.Id[/* newId */0]("hero"),
          /* name */name,
          /* skill */skill
        ];
}

var Hero = /* module */[
  /* getId */getId,
  /* view */view,
  /* ofName */ofName,
  /* make */make
];

function dummyEncounter(param) {
  return /* record */[
          /* description */"Dummy Encounter,",
          /* scoutChallenge */0.0,
          /* leaderChallenge */0.0,
          /* defenceChallenge */0.0,
          /* supportChallenge */0.0
        ];
}

function generateNextEncounter(questHistory) {
  if (List.length(questHistory[/* history */2]) > 5) {
    return undefined;
  } else {
    return /* record */[
            /* description */"Dummy Encounter,",
            /* scoutChallenge */0.0,
            /* leaderChallenge */0.0,
            /* defenceChallenge */0.0,
            /* supportChallenge */0.0
          ];
  }
}

function resolveEncounter(party, encounter) {
  return /* record */[
          /* description */"Dummy Result",
          /* questActions : [] */0
        ];
}

function resolveQuest(party, quest) {
  var questComplete = false;
  var encounterHistory = /* [] */0;
  while(!questComplete) {
    var questHistory = /* record */[
      /* party */party,
      /* quest */quest,
      /* history */encounterHistory
    ];
    var nextEncounter = generateNextEncounter(questHistory);
    if (nextEncounter !== undefined) {
      var newEncounterHistory_000 = /* record */[
        /* encounter */nextEncounter,
        /* encounterResult : record */[
          /* description */"Dummy Result",
          /* questActions : [] */0
        ]
      ];
      var newEncounterHistory = /* :: */[
        newEncounterHistory_000,
        encounterHistory
      ];
      encounterHistory = newEncounterHistory;
    } else {
      questComplete = true;
    }
  };
  return /* record */[
          /* party */party,
          /* quest */quest,
          /* history */encounterHistory
        ];
}

var Quest = /* module */[
  /* dummyEncounter */dummyEncounter,
  /* generateNextEncounter */generateNextEncounter,
  /* resolveEncounter */resolveEncounter,
  /* resolveQuest */resolveQuest
];

exports.Hero = Hero;
exports.Quest = Quest;
/* No side effect */
